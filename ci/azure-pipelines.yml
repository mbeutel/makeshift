# Azure Pipelines configuration

variables:
  system.debug: true
  revision: 4

  # Vcpkg repository
#  vcpkgRepo: 'https://github.com/microsoft/vcpkg.git' # optional
  vcpkgRef: e308474b85ff49f2b688a759351c4ec569636910

  # Repository with additional port and triplet overlays
  vcpkgOverlayRepo: 'https://mp-force.ziti.uni-heidelberg.de/asc/infrastructure/vcpkg-ports.git' # optional
  vcpkgOverlayRef: a08517fb77e9d48d00dd33c16e5acd01f8b31f29 # optional

  # CMake build options
#  cmakeListsTxtPath: '$(Build.SourcesDirectory)/CMakeLists.txt' # optional
  cmakeConfigArgs: '-DMAKESHIFT_BUILD_TESTS=ON -DCMAKESHIFT_PRIVATE_COMPILE_SETTINGS=$<$<CONFIG:Debug>:runtime-checks;debug-stdlib>' # optional

trigger:
- master
- mr/*

pr:
- master

jobs:
  - template: azure-pipelines-windows.yml
    parameters:
      image: windows-2019
      compiler: MSVC
        versions: [2019]
        platforms: [x86, x64]

#  - template: azure-pipelines-windows.yml
#    parameters:
#      compiler: Clang
#      platforms: [x86, x64]
#      compilerVersions: [9]

#  - template: azure-pipelines-linux.yml
#    parameters:
#      compiler: GCC
#      platforms: [x64]
#      compilerVersions: [8, 9]
#
#  - template: azure-pipelines-linux.yml
#    parameters:
#      compiler: Clang
#      platforms: [x64]
#      compilerVersions: [8, 9]
#
#  - template: azure-pipelines-macos.yml
#    parameters:
#      compiler: AppleClang
#      platforms: [x64]
#      compilerVersions: [11]
#
#  - template: azure-pipelines-macos.yml
#    parameters:
#      compiler: GCC
#      platforms: [x64]
#      compilerVersions: [9]
